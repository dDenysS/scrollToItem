<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="./css/main.css">
</head>
<body>
    <div class="fusion-blog-layout-timeline fusion-clearfix">

        <h3 class="fusion-timeline-date">February 2020</h3>
        <div class="fusion-collapse-month">
            <p>Block 1</p>
        </div>

        <h3 class="fusion-timeline-date">December 2019</h3>
        <div class="fusion-collapse-month">
            <p>Block 2</p>
        </div>

        <h3 class="fusion-timeline-date">November 2019</h3>
        <div class="fusion-collapse-month">
            <p>Block 2</p>
        </div>

        <h3 class="fusion-timeline-date">October 2019</h3>
        <div class="fusion-collapse-month">
            <p>Block 2</p>
        </div>
    </div>
    <script src="https://rawgit.com/moment/moment/2.24.0/min/moment.min.js"></script>
    <script>
        const allH3 = document.querySelectorAll('.fusion-timeline-date');

        const allDates = [];
        for(let i=0; i < allH3.length; i++){
            let a = moment(allH3[i].innerHTML).format('MMMM YY');
            allDates.push(a);
        }

        const diff = allDates.map(d => Math.abs(new Date() - new Date(d)));
        const idx = diff.indexOf(Math.min(...diff));
        document.querySelectorAll('.fusion-timeline-date')[idx].classList.add("current-date")
        const scrollTo = document.getElementsByClassName('current-date')[0];
        scrollTo.scrollIntoView({ behavior: 'smooth', block: 'start'});
    </script>
</body>
</html>
